<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.Accordion?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.control.Tooltip?>

<BorderPane prefHeight="720.0" prefWidth="1280.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.controller.TelaInicialController" stylesheets="@../style.css">
   
   <top>
       <HBox alignment="CENTER_LEFT" styleClass="header-bar" spacing="20.0" BorderPane.alignment="CENTER">
         <children>
            <FontAwesomeIconView fill="WHITE" glyphName="BARS" size="2em" />
            <Label text="Painel Administrativo" style="-fx-font-size: 20px; -fx-text-fill: white;" />
            <HBox HBox.hgrow="ALWAYS" />
            <FontAwesomeIconView fill="WHITE" glyphName="BELL" size="2em" />
            <FontAwesomeIconView fill="WHITE" glyphName="ENVELOPE" size="2em" />
            <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="Sistema Acadêmico" />
            <FontAwesomeIconView fill="WHITE" glyphName="USER_CIRCLE" size="2em" />
         </children>
      </HBox>
   
   </top>

<left>
       <Accordion fx:id="sidebarAccordion" styleClass="sidebar" prefWidth="210.0"> <panes>
           <TitledPane fx:id="cadastrosPane" text="Cadastros" styleClass="sidebar-titled-pane" expanded="true">
             <content>
               <VBox styleClass="sidebar-pane-content">
                  <Button fx:id="cadastrarAlunoButton" onAction="#handleCadastroAlunoButton" styleClass="sidebar-button" text="Cadastrar Aluno" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="GRADUATION_CAP" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarProfessorButton" onAction="#handleCadastroProfessorButton" styleClass="sidebar-button" text="Cadastrar Professor" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="USER" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarCursoButton" onAction="#handleCadastroCursoButton" styleClass="sidebar-button" text="Cadastrar Curso" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="BOOK" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarDisciplinaButton" onAction="#handleCadastroDisciplinaButton" styleClass="sidebar-button" text="Cadastrar Disciplina" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="PENCIL" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarTurmaButton" onAction="#handleCadastroTurmaButton" styleClass="sidebar-button" text="Cadastrar Turma" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="USERS" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarPeriodoLetivoButton" onAction="#handleCadastroPeriodoLetivoButton" styleClass="sidebar-button" text="Período Letivo" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="CALENDAR_ALT" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="cadastrarHorarioButton" onAction="#handleCadastroHorarioButton" styleClass="sidebar-button" text="Cadastrar Horário" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="CLOCK_ALT" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
               </VBox>
             </content>
           </TitledPane>

           <TitledPane fx:id="academicoPane" text="Acadêmico" styleClass="sidebar-titled-pane">
             <content>
               <VBox styleClass="sidebar-pane-content">
                  <Button fx:id="matriculaButton" onAction="#handleMatriculaButton" styleClass="sidebar-button" text="Gerenciar Matrículas" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="ADDRESS_BOOK" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="gestaoGradeButton" onAction="#handleGestaoGradeButton" styleClass="sidebar-button" text="Gerenciar Grade" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="TABLE" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  
                  <Button fx:id="associarDisciplinaButton" onAction="#handleAssociarDisciplinaButton" styleClass="sidebar-button" text="Professor-Disciplina" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="LINK" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="registroNotasButton" onAction="#handleRegistroNotasButton" styleClass="sidebar-button" text="Registrar Notas" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="EDIT" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
               </VBox>
             </content>
           </TitledPane>

           <TitledPane fx:id="consultasPane" text="Consultas" styleClass="sidebar-titled-pane">
             <content>
               <VBox styleClass="sidebar-pane-content">
                  <Button fx:id="consultarAlunosButton" onAction="#handleConsultarAlunosButton" styleClass="sidebar-button" text="Consultar Alunos" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="SEARCH" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="consultarProfessoresButton" onAction="#handleConsultarProfessoresButton" styleClass="sidebar-button" text="Consultar Professores" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="SEARCH_PLUS" size="1.5em" styleClass="sidebar-icon"/></graphic>
                  </Button>
                  <Button fx:id="consultarCursosButton" onAction="#handleConsultarCursosButton" styleClass="sidebar-button" text="Consultar Cursos" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="SEARCH" size="1.5em" styleClass="sidebar-icon" /></graphic>
                  </Button>
                  <Button fx:id="consultarTurmasButton" onAction="#handleConsultarTurmasButton" styleClass="sidebar-button" text="Consultar Turmas" contentDisplay="LEFT">
                     <graphic><FontAwesomeIconView glyphName="SEARCH_PLUS" size="1.5em" styleClass="sidebar-icon" /></graphic>
                  </Button>
               </VBox>
             </content>
           </TitledPane>

           <TitledPane fx:id="sistemaPane" text="Sistema" styleClass="sidebar-titled-pane">
             <content>
                <VBox styleClass="sidebar-pane-content">
                   <Button fx:id="cadastrarUsuarioButton" onAction="#handleCadastroUsuarioButton" styleClass="sidebar-button" text="Cadastrar Usuário" contentDisplay="LEFT">
                      <graphic><FontAwesomeIconView glyphName="USER_PLUS" size="1.5em" styleClass="sidebar-icon"/></graphic>
                   </Button>
                   <Button fx:id="sairButton" onAction="#handleSairButton" styleClass="sidebar-button" text="Sair do Sistema" contentDisplay="LEFT">
                      <graphic><FontAwesomeIconView glyphName="SIGN_OUT" size="1.5em" styleClass="sidebar-icon"/></graphic>
                   </Button>
                </VBox>
              </content>
           </TitledPane>

         </panes>
       </Accordion>
   </left>
   
   <center>
      <VBox spacing="30.0" BorderPane.alignment="CENTER">
         <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
         </padding>
         <children>
            <Label text="Painel Inicial" style="-fx-font-size: 22px; -fx-font-weight: 700; -fx-text-fill: #2c3e50;"/>
            
            <FlowPane hgap="20.0" vgap="20.0">
               <children>
                  <VBox fx:id="cursosWidget" onMouseClicked="#handleConsultarCursosWidget" styleClass="summary-card" prefWidth="250.0">
                     <children>
                        <Label fx:id="cursosCountLabel" styleClass="summary-card-value" text="0" />
                        <Label styleClass="summary-card-label" text="Cursos Ativos" />
                     </children>
                  </VBox>
                  
                  <VBox fx:id="turmasWidget" onMouseClicked="#handleConsultarTurmasWidget" styleClass="summary-card" prefWidth="250.0">
                     <children>
                        <Label fx:id="turmasCountLabel" styleClass="summary-card-value" text="0" />
                        <Label styleClass="summary-card-label" text="Turmas Abertas" />
                     </children>
                  </VBox>
                  
                  <VBox fx:id="alunosWidget" onMouseClicked="#handleConsultarAlunosWidget" styleClass="summary-card" prefWidth="250.0">
                     <children>
                        <Label fx:id="alunosCountLabel" styleClass="summary-card-value" text="0" />
                        <Label styleClass="summary-card-label" text="Alunos Matriculados" />
                     </children>
                  </VBox>
            
                  <VBox fx:id="professoresWidget" styleClass="summary-card" prefWidth="250.0" onMouseClicked="#handleConsultarProfessoresWidget">
                     <children>
                        <Label fx:id="professoresCountLabel" styleClass="summary-card-value" text="0" />
                        <Label styleClass="summary-card-label" text="Professores" />
                     </children>
                  </VBox>
               </children>
            </FlowPane>
            
            <Label text="Visão Geral" style="-fx-font-size: 22px; -fx-font-weight: 700; -fx-text-fill: #2c3e50;">
               <VBox.margin>
                  <Insets top="20.0" />
               </VBox.margin>
            </Label>
            
            <HBox spacing="20.0" prefHeight="400.0" VBox.vgrow="ALWAYS">
               <VBox HBox.hgrow="ALWAYS">
                  <children>
                     <Label styleClass="chart-title" text="Alunos por Curso" />
                     <PieChart fx:id="alunosPorCursoChart" legendVisible="true" VBox.vgrow="ALWAYS" />
                  </children>
               </VBox>
               
               <VBox HBox.hgrow="ALWAYS">
                  <children>
                     <Label styleClass="chart-title" text="Turmas por Turno" />
                     <BarChart fx:id="turmasPorTurnoChart" legendVisible="false" VBox.vgrow="ALWAYS">
                       <xAxis>
                         <CategoryAxis label="Turno" />
                       </xAxis>
                       <yAxis>
                         <NumberAxis label="Nº de Turmas" side="LEFT" />
                       </yAxis>
                     </BarChart>
                  </children>
               </VBox>
            </HBox>
            
         </children>
      </VBox>
   </center>
</BorderPane>